<html>
	<head>
		<script src="./js/highcharts.js"></script>
		<script src="./js/jquery.min.js"></script>
		<script src="./js/json3.min.js"></script>
		<link rel="stylesheet" href="./css/client.css">
		<link class="ThemeTypeIf" rel="stylesheet" href="./css/default.css">
		<link rel="stylesheet" href="./css/all.min.css">
		<script>
			var DarkMode = false;
			if (window.matchMedia('(prefers-color-scheme)').media !== 'not all') {
				if(window.matchMedia('(prefers-color-scheme: dark)').matches)
					DarkMode = true, $('.ThemeTypeIf').attr('href','./css/dark.css');
			}
		</script>
	</head>
	<body>
		<div class="HtmlContainer">
		<div class="BigInterface">
			<table style="table-layout:fixed;width:100%;">
				<tr>
					<td style="border: 2px solid #ccc;border-radius: 5px;width:289px;box-shadow: 0px 0px 10px #666">
						<table style="table-layout:fixed;border-collapse:collapse;padding:0px;width:100%">
							<tr>
								<td style="padding:0px;width:130px;"><div class="CurrentRatingDescription"><i class="fa fa-th-list"></i> Rank</div></td>
								<td class="ContestRatingTd" style="padding:0px;width:calc(100% - 130px)" rowspan='2'><div class="CurrentRating">#?</div><div class="ContestRatingChanges"></div></td>
							</tr>
							<tr>
								<td><div class="RatingGraphDescription" style="width:130px;"><i class="fa fa-line-chart"></i> Rank Graph&nbsp;</div></td>
							</tr>
						</table>
						<div id="highchatrsContainer"><div style="height:100%;display: flex;align-items: center;justify-content: center;vertical-align:center">Blank</div></div>
						<div class="GraphFolder"><i class="fa fa-angle-up"></i> Fold</div>
					</td>
				</tr>
				<tr>
					<td style="width:289px;">
						<div class="ContestStatus">Idle</div>
						<table>
							<tr>
								<td><div class="ContestId"><i class="fa fa-calendar"></i> Contest Id:</br><span class="ContestIdNumber">?</span></div></td>
								<td><div class="ContestName">?</div></td>
							</tr>
						</table>
						<hr>
						<div class="ProblemList" id="ProblemList">
							<div style="height:100%;display: flex;align-items: center;justify-content: center;vertical-align:center">Blank</div>
						</div>
						<hr>
						<table style="width:100%;table-layout:fixed;">
							<tr>
								<td style="width: 60px;">Name: </td>
								<td><input type="text" class="UsernameInput" /></td>
							</tr>
							<tr>
								<td style="width: 60px;">ID: </td>
								<td><input type="text" class="ContestIDInput" /><div class="ContestType">/</div></td>
							</tr>
							<tr>
								<td style="width: 60px;">Time: </td>
								<td><select class="ContestTypeChosen"></select></td>
							</tr>
							<tr>
								<td style="width: 60px;">Cmp: </td>
								<td><input type="text" class="ContestDiffCalc" /></td>
							</tr>
						</table>
						<div class="ConnectionStatus"><i class="fa fa-globe"></i> Fill & Send to update!</div>
						<span class="UserType">?</span>
						<div class="ToolList">
							<button type="button" class="OpenAdvancedButton" title="More Options"><i class="fa fa-angle-double-left"></i></button>
							<div class="AdvancedToolList" style="width:0px;height:24px;">
								<button type="button" class="OpenWindowButton" title="Open New Window"><i class="fa fa-clone"></i></button>
								<button type="button" class="FoldButton" title="Fold Window"><i class="fa fa-angle-down"></i></button>
								<button type="button" class="VirtualRankButton" title="Enable Rank Predictor" style="display:none"><i class="fa fa-database"></i></button>
								<button type="button" class="UnofficialButton" title="Show Unofficial"><i class="fa fa-user"></i></button>
								<button type="button" class="UpdateButton" title="Get Update Time"><i class="fa fa-upload"></i></button>
							</div>
							<button type="button" class="ThemeButton" title="Change Theme"><i class="fa fa-sun-o"></i></button>
							<button type="button" class="LockButton" title="Lock"><i class="fa fa-unlock"></i></button>
							<button type="button" class="SendButton" title="Send"><i class="fa fa-send"></i></button>
							<button type="button" class="CloseButton" title="Close"><i class="fa fa-times style_error"></i></button>
						</div>
					</td>
				</tr>
			</table>
		</div>
		<div class="AllWindow">
			<div class="BlackBackground"></div>
			<div class="AlertWindow" onclick=";">
				<div class="MessageBoxProblem">
					<span style="float:right;cursor:pointer;" onclick="closeMessageBox()"><i class="fa fa-times style_error"></i></span>
					<div style="text-align:center"><span class="ProblemLink" style="cursor:pointer;"></span></div>
					<hr>
					<div style="text-align:center"><div class="ProblemName"></div></div>
					<div style="text-align:center"><span class="ProblemType"></span> | POINTS: <span class="ProblemPoints"></span> | RATING: <span class="ProblemRating"></span></div>
					<hr>
					<div class="ProblemStatusType" style="text-align:center"><i class="fa fa-hourglass"></i> Submissions</div>
					<table class="SubmlissionsList" style="width:100%;text-align:center;word-wrap:break-word;" cellspacing="0">
						<tr class="DefaultLine">
							<td><i class="fa fa-user"></i> When</td>
							<td><i class="fa fa-code"></i> Lang</td>
							<td><i class="fa fa-server"></i> Verdict</td>
							<td><i class="fa fa-info-circle"></i> Info</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
		<div class="SmallInterface">
			<div class="ContestStatus">Idle</div>
			<table style="table-layout:fixed;width:100%;"><tr><td>
			<div class="SmallRankInfo">
				<span class="SmallContestName">#?</span>
				<span class="SmallUsername">@?</span>
				</br><span class="SmallTime">-</span>
				<span class="SmallRank">#?</span>
				</br><span class="SmallRatingChanges"></span>
			</div>
			<hr>
			<div class="ProblemList" id="ProblemList">
				<div style="height:100%;display: flex;align-items: center;justify-content: center;vertical-align:center">Blank</div>
			</div>
			<hr>
			<span class="UserType">?</span>
			<div class="ToolList">
				<button type="button" class="OpenAdvancedButton" title="More Options"><i class="fa fa-angle-double-left"></i></button>
				<div class="AdvancedToolList" style="width:0px;height:24px;">
					<button type="button" class="OpenWindowButton" title="Open New Window"><i class="fa fa-clone"></i></button>
					<button type="button" class="UnfoldButton" title="Unfold Window"><i class="fa fa-angle-up"></i></button>
					<button type="button" class="VirtualRankButton" title="Enable Rank Predictor" style="display:none"><i class="fa fa-database"></i></button>
					<button type="button" class="UnofficialButton" title="Show Unofficial"><i class="fa fa-user"></i></button>
					<button type="button" class="UpdateButton" title="Get Update Time"><i class="fa fa-upload"></i></button>
				</div>
				<button type="button" class="ThemeButton" title="Change Theme"><i class="fa fa-sun-o"></i></button>
				<button type="button" class="LockButton" title="Lock"><i class="fa fa-unlock"></i></button>
				<button type="button" class="SendButton" title="Send"><i class="fa fa-send"></i></button>
				<button type="button" class="CloseButton" title="Close"><i class="fa fa-times style_error"></i></button>
			</div>
			</td></tr></table>
		</div>
		</div>
	</body>
	<footer>
		<script src="./js/client.js"></script>
		<script>
		    var element =  document.documentElement;
		    if(navigator.userAgent.indexOf("Chrome")>0){
		    	element = document.body;
		    }
		    document.addEventListener('DOMMouseScroll',handler,false);
		    document.addEventListener('mousewheel',handler,false);
		    var scrollAnimation = false;
		    function handler(event){
		    	if(scrollAnimation)
		    		return;
				var detail = event.wheelDelta || event.detail;
				var moveForwardStep = 50;
				var moveBackStep = -50;
				var step = 0;
				if(detail < 0)	step = moveForwardStep;
				else	step = moveBackStep;
				scrollAnimation = true;
				$(".ProblemList").each(function(){
					$(this).animate({'scrollLeft': $(this).scrollLeft() + step}, 125, "swing", function(){
						scrollAnimation = false;
					});
				});
			}
			if(DarkMode)
				$('.ThemeButton').html('<i class="fa fa-moon-o"></i>');
			function ChangeTheme(){
				if(!DarkMode){
					$('.ThemeTypeIf').attr('href','./css/dark.css'),
					$('.ThemeButton').html('<i class="fa fa-moon-o"></i>');
					if(opacityIf)
						$('body').css('background-color','rgba(0,0,0,0.5)');
				}
				else{
					$('.ThemeTypeIf').attr('href','./css/default.css'),
					$('.ThemeButton').html('<i class="fa fa-sun-o"></i>');
					if(opacityIf)
						$('body').css('background-color','rgba(255,255,255,0.5)');
				}
				DarkMode = !DarkMode;
				getChart(RankData);
			}
			$('.ThemeButton').attr('onclick','ChangeTheme()');
			if (window.matchMedia('(prefers-color-scheme)').media !== 'not all') {
				var listeners={
				    dark: function(mediaQueryList ){
				        if(mediaQueryList.matches && !DarkMode)
				        	ChangeTheme();
				    },
				    light: function(mediaQueryList){
				        if(mediaQueryList.matches && DarkMode)
				        	ChangeTheme();
				    }
				}
				window.matchMedia('(prefers-color-scheme: dark)').addListener(listeners.dark)
				window.matchMedia('(prefers-color-scheme: light)').addListener(listeners.light)
			}
			$('.SmallInterface').css('display','none');
		</script>
	</footer>
</html>